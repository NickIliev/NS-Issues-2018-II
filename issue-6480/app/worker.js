"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("globals");
global.onmessage = function (msg) {
    console.log('[WORKER] on message', msg);
    var client = new okhttp3.OkHttpClient();
    console.log('[WORKER] created auth', msg.data.auth);
    var request = new okhttp3.Request.Builder()
        .method(msg.data.method, null)
        .header('Authorization', "Basic " + msg.data.auth)
        .url(msg.data.url)
        .build();
    console.log('[WORKER] built request', msg.data.url);
    var response = client.newCall(request).execute();
    global.postMessage(response.body().string());
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsid29ya2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsbUJBQWlCO0FBS2pCLE1BQU0sQ0FBQyxTQUFTLEdBQUcsVUFBUyxHQUFHO0lBQzdCLE9BQU8sQ0FBQyxHQUFHLENBQUMscUJBQXFCLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFFeEMsSUFBTSxNQUFNLEdBQUcsSUFBSSxPQUFPLENBQUMsWUFBWSxFQUFFLENBQUM7SUFFMUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRXBELElBQU0sT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUU7U0FDMUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQztTQUM3QixNQUFNLENBQUMsZUFBZSxFQUFFLFdBQVMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFNLENBQUM7U0FDakQsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO1NBQ2pCLEtBQUssRUFBRSxDQUFDO0lBRVQsT0FBTyxDQUFDLEdBQUcsQ0FBQyx3QkFBd0IsRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBRXRELElBQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkQsTUFBTSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQztBQUMvQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJ2dsb2JhbHMnO1xyXG5cclxuZGVjbGFyZSBjb25zdCBva2h0dHAzOiBhbnk7XHJcbmRlY2xhcmUgY29uc3QgZ2xvYmFsO1xyXG5cclxuZ2xvYmFsLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKG1zZykge1xyXG4gIGNvbnNvbGUubG9nKCdbV09SS0VSXSBvbiBtZXNzYWdlJywgbXNnKTtcclxuXHJcbiAgY29uc3QgY2xpZW50ID0gbmV3IG9raHR0cDMuT2tIdHRwQ2xpZW50KCk7XHJcblxyXG4gIGNvbnNvbGUubG9nKCdbV09SS0VSXSBjcmVhdGVkIGF1dGgnLCBtc2cuZGF0YS5hdXRoKTtcclxuXHJcbiAgY29uc3QgcmVxdWVzdCA9IG5ldyBva2h0dHAzLlJlcXVlc3QuQnVpbGRlcigpXHJcbiAgICAubWV0aG9kKG1zZy5kYXRhLm1ldGhvZCwgbnVsbClcclxuICAgIC5oZWFkZXIoJ0F1dGhvcml6YXRpb24nLCBgQmFzaWMgJHttc2cuZGF0YS5hdXRofWApXHJcbiAgICAudXJsKG1zZy5kYXRhLnVybClcclxuICAgIC5idWlsZCgpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdbV09SS0VSXSBidWlsdCByZXF1ZXN0JywgbXNnLmRhdGEudXJsKTtcclxuXHJcbiAgY29uc3QgcmVzcG9uc2UgPSBjbGllbnQubmV3Q2FsbChyZXF1ZXN0KS5leGVjdXRlKCk7XHJcbiAgZ2xvYmFsLnBvc3RNZXNzYWdlKHJlc3BvbnNlLmJvZHkoKS5zdHJpbmcoKSk7XHJcbn07Il19